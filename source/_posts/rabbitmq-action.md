---
title: rabbitMq实战记录
date: 2018-01-19 12:12:57
categories: rabbitmq
tags: 
---

rabbitMq使用记录，好记性不如烂……

## 避免消息堆积？

1） 采用workqueue，多个消费者监听同一队列。

2）接收到消息以后，而是通过线程池，异步消费。

## 如何避免消息丢失？

1） 消费者的ACK机制。可以防止消费者丢失消息。

但是，如果在消费者消费之前，MQ就宕机了，消息就没了？

2）可以将消息进行持久化。要将消息持久化，前提是：队列、Exchange都持久化

